# Generated by Django 5.2.10 on 2026-02-14 16:35

import django.db.models.deletion
from django.db import migrations, models

import packages.framework.fields


class Migration(migrations.Migration):

    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="Dataset",
            fields=[
                ("id", models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="Дата создания")),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="Дата обновления")),
                ("name", models.CharField(max_length=255)),
                ("source_id", models.IntegerField(verbose_name="Source ID")),
                (
                    "source",
                    models.CharField(
                        choices=[
                            ("projects", "Проекты"),
                            ("tasks", "Задачи"),
                            ("jobs", "Работы"),
                            ("users", "Пользователи"),
                        ],
                        max_length=32,
                        verbose_name="Источник",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[("uploaded", "Загружен"), ("annotation", "Размечается"), ("completed", "Завершен")],
                        default="uploaded",
                        max_length=32,
                        verbose_name="Статус",
                    ),
                ),
                (
                    "format",
                    models.CharField(
                        choices=[
                            ("CamVid 1.0", "CamVid 1.0"),
                            ("Cityscapes 1.0", "Cityscapes 1.0"),
                            ("COCO 1.0", "COCO 1.0"),
                            ("COCO Keypoints 1.0", "COCO Keypoints 1.0"),
                            ("CVAT for images 1.1", "CVAT for images 1.1"),
                            ("CVAT for video 1.1", "CVAT for video 1.1"),
                            ("Datumaro 1.0", "Datumaro 1.0"),
                            ("ICDAR", "ICDAR"),
                            ("ImageNet 1.0", "ImageNet 1.0"),
                            ("KITTI 1.0", "KITTI 1.0"),
                            ("LabelMe 3.0", "LabelMe 3.0"),
                            ("LFW 1.0", "LFW 1.0"),
                            ("Market-1501 1.0", "Market-1501 1.0"),
                            ("MOT 1.0", "MOT 1.0"),
                            ("MOTS PNG 1.0", "MOTS PNG 1.0"),
                            ("Open Images 1.0", "Open Images 1.0"),
                            ("PASCAL VOC 1.0", "PASCAL VOC 1.0"),
                            ("Segmentation Mask 1.0", "Segmentation Mask 1.0"),
                            ("VGGFace2 1.0", "VGGFace2 1.0"),
                            ("WIDER Face 1.0", "WIDER Face 1.0"),
                            ("YOLO 1.0", "YOLO 1.0"),
                            ("Ultralytics YOLO Detection 1.0", "Ultralytics YOLO Detection 1.0"),
                            ("Ultralytics YOLO Segmentation 1.0", "Ultralytics YOLO Segmentation 1.0"),
                            ("Ultralytics YOLO Pose 1.0", "Ultralytics YOLO Pose 1.0"),
                            (
                                "Ultralytics YOLO Oriented Bounding Boxes 1.0",
                                "Ultralytics YOLO Oriented Bounding Boxes 1.0",
                            ),
                            ("Ultralytics YOLO Classification 1.0", "Ultralytics YOLO Classification 1.0"),
                        ],
                        max_length=128,
                        verbose_name="Формат",
                    ),
                ),
            ],
            options={
                "verbose_name": "Датасет",
                "verbose_name_plural": "Датасеты",
                "ordering": ("-created_at",),
            },
        ),
        migrations.CreateModel(
            name="DatasetAsset",
            fields=[
                ("id", models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="Дата создания")),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="Дата обновления")),
                ("file", packages.framework.fields.S3PrivateFileField(upload_to="datasets/images")),
                ("width", models.IntegerField(verbose_name="Ширина")),
                ("height", models.IntegerField(verbose_name="Высота")),
                ("source_id", models.IntegerField(verbose_name="Source ID")),
                (
                    "dataset",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, related_name="assets", to="datasets.dataset"
                    ),
                ),
            ],
            options={
                "verbose_name": "Ассет датасета",
                "verbose_name_plural": "Ассеты датасета",
                "ordering": ("-created_at",),
            },
        ),
        migrations.CreateModel(
            name="DatasetClass",
            fields=[
                ("id", models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="Дата создания")),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="Дата обновления")),
                ("name", models.CharField(max_length=255, verbose_name="Название")),
                ("class_id", models.IntegerField(verbose_name="Class ID")),
                (
                    "dataset",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, related_name="classes", to="datasets.dataset"
                    ),
                ),
            ],
            options={
                "verbose_name": "Класс датасета",
                "verbose_name_plural": "Классы датасета",
                "ordering": ("-created_at",),
            },
        ),
        migrations.CreateModel(
            name="DatasetAnnotation",
            fields=[
                ("id", models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("segmentation", models.JSONField(verbose_name="Сегментация")),
                ("bbox", models.JSONField(verbose_name="Бокс")),
                ("area", models.FloatField(verbose_name="Площадь")),
                ("iscrowd", models.BooleanField(default=False, verbose_name="Скульптура")),
                (
                    "dataset",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, related_name="annotations", to="datasets.dataset"
                    ),
                ),
                (
                    "asset",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="annotations",
                        to="datasets.datasetasset",
                    ),
                ),
                (
                    "cls",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="annotations",
                        to="datasets.datasetclass",
                    ),
                ),
            ],
            options={
                "verbose_name": "Аннотация",
                "verbose_name_plural": "Аннотации",
            },
        ),
    ]
